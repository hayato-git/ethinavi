<ul class="nav nav-pills genre-all" id="pills-tab" role="tablist">
  <li class="nav-item">
    <a class="nav-link genre-link active" id="pills-all-tab" data-toggle="pill" href="#pills-all" role="tab" aria-controls="pills-all" aria-selected="true">すべて</a>
  </li>
  <li class="nav-item">
    <a class="nav-link genre-link" id="pills-food_drink-tab" data-toggle="pill" href="#pills-food_drink" role="tab" aria-controls="pills-food_drink" aria-selected="false">食品・飲料</a>
  </li>
  <li class="nav-item">
    <a class="nav-link genre-link" id="pills-fashion-tab" data-toggle="pill" href="#pills-fashion" role="tab" aria-controls="pills-fashion" aria-selected="false">ファッション</a>
  </li>
  <li class="nav-item">
    <a class="nav-link genre-link" id="pills-dairy-tab" data-toggle="pill" href="#pills-dairy" role="tab" aria-controls="pills-dairy" aria-selected="false">日用品</a>
  </li>
  <li class="nav-item">
    <a class="nav-link genre-link" id="pills-general-tab" data-toggle="pill" href="#pills-general" role="tab" aria-controls="pills-general" aria-selected="false">雑貨</a>
  </li>
  <li class="nav-item">
    <a class="nav-link genre-link" id="pills-local-tab" data-toggle="pill" href="#pills-local" role="tab" aria-controls="pills-local" aria-selected="false">地産地消</a>
  </li>
  <li class="nav-item">
    <a class="nav-link genre-link" id="pills-select-tab" data-toggle="pill" href="#pills-select" role="tab" aria-controls="pills-select" aria-selected="false">セレクトショップ</a>
  </li>
</ul>

<div class="tab-content" id="pills-tabContent">
    <!-- お店全部を取り出す -->
  	<div class="tab-pane fade show active" id="pills-all" role="tabpanel" aria-labelledby="pills-all-tab">
      <div class="container">
        <div class="row">
          <% @shops.each do |shop| %>
            <div class="col-md-4 index-col">
              <div class="card index-card" style="width: 22rem;">
                <%= link_to shop_path(shop.id) do %>
                  <%= attachment_image_tag shop, :shop_image, :fill, 350, 180, format: 'jpeg', fallback: "shop_no_image.jpg", :size => "350x180" %>
                <% end %>
                <div class="card-body index-card-body">
                  <h5 class="card-text index-card-text">
                    <%= shop.shop_name %>
                  </h5>
                  <h6 class="card-text genre-text">
                    <% shop.genres.each do |f| %>
                      <%= f.genre_i18n %>
                    <% end %>
                    <i class="far fa-comment index-comment-count"><%= shop.comments.count %></i>
                  </h6>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
      <%= paginate @shops, class: "paginate" %>
    </div>

	  <!-- ジャンルが食品・飲料にあてはまるもの -->
  	<div class="tab-pane fade" id="pills-food_drink" role="tabpanel" aria-labelledby="pills-food_drink-tab">
  		<div class="container">
  			<div class="row">
  				<% @genre_food.each do |f| %>
            <div class="col-md-4 index-col">
  					  <div class="card index-card" style="width: 22rem;">
  						  <%= link_to shop_path(f.shop.id) do %>
  						    <%= attachment_image_tag f.shop, :shop_image, :fill, 350, 180, format: 'jpeg', fallback: "shop_no_image.jpg", :size => "350x180" %>
  						  <% end %>
  						  <div class="card-body index-card-body">
  							  <h5 class="card-text index-card-text">
                    <%= f.shop.shop_name %>
                  </h5>
  							  <h6 class="card-text genre-text">
                    <%= f.genre_i18n %>
                    <i class="far fa-comment index-comment-count"><%= f.shop.comments.count %></i>
                  </h6>
  						  </div>
  					  </div>
            </div>
  				<% end %>
  			</div>
  		</div>
      <%= paginate @genre_food, class: "paginate" %>
  	</div>

  	<!-- genreが1(ファッション)にあてはまるもの -->
  	<div class="tab-pane fade" id="pills-fashion" role="tabpanel" aria-labelledby="pills-fashion-tab">
  		<div class="container">
  			<div class="row">
  				<% @genre_fashion.each do |f| %>
            <div class="col-md-4 index-col">
  					  <div class="card index-card" style="width: 22rem;">
  						  <%= link_to shop_path(f.shop.id) do %>
  						    <%= attachment_image_tag f.shop, :shop_image, :fill, 350, 180, format: 'jpeg', fallback: "shop_no_image.jpg", :size => "350x180" %>
  						  <% end %>
  						  <div class="card-body index-card-body">
  							  <h5 class="card-text index-card-text">
                    <%= f.shop.shop_name %>
                  </h5>
  							  <h6 class="card-text genre-text">
                    <%= f.genre_i18n %>
                    <i class="far fa-comment index-comment-count"><%= f.shop.comments.count %></i>
                  </h6>
  						  </div>
  					  </div>
            </div>
  				<% end %>
  			</div>
  		</div>
      <%= paginate @genre_fashion, class: "paginate" %>
  	</div>

  	<!-- genreが2(日用品)にあてはまるもの -->
  	<div class="tab-pane fade" id="pills-dairy" role="tabpanel" aria-labelledby="pills-dairy-tab">
  		<div class="container">
  			<div class="row">
  				<% @genre_daily.each do |f| %>
            <div class="col-md-4 index-col">
  					  <div class="card index-card" style="width: 22rem;">
  						  <%= link_to shop_path(f.shop.id) do %>
  						    <%= attachment_image_tag f.shop, :shop_image, :fill, 350, 180, format: 'jpeg', fallback: "shop_no_image.jpg", :size => "350x180" %>
  						  <% end %>
  						  <div class="card-body index-card-body">
  							  <h5 class="card-text index-card-text">
                    <%= f.shop.shop_name %>
                  </h5>
  							  <h6 class="card-text genre-text">
                    <%= f.genre_i18n %>
                    <i class="far fa-comment index-comment-count"><%= f.shop.comments.count %></i>
                  </h6>
  						  </div>
  					  </div>
            </div>
  				<% end %>
  			</div>
  		</div>
      <%= paginate @genre_daily, class: "paginate" %>
  	</div>

  	<!-- genreが3(雑貨)にあてはまるもの -->
  	<div class="tab-pane fade" id="pills-general" role="tabpanel" aria-labelledby="pills-genaral-tab">
  		<div class="container">
  			<div class="row">
  				<% @genre_general.each do |f| %>
            <div class="col-md-4 index-col">
  					  <div class="card index-card" style="width: 22rem;">
  						  <%= link_to shop_path(f.shop.id) do %>
  						    <%= attachment_image_tag f.shop, :shop_image, :fill, 350, 180, format: 'jpeg', fallback: "shop_no_image.jpg", :size => "350x180" %>
  						  <% end %>
  						  <div class="card-body index-card-body">
  							  <h5 class="card-text index-card-text">
                    <%= f.shop.shop_name %>
                  </h5>
  							  <h6 class="card-text genre-text">
                    <%= f.genre_i18n %>
                    <i class="far fa-comment index-comment-count"><%= f.shop.comments.count %></i>
                  </h6>
  					    </div>
  					  </div>
            </div>
  				<% end %>
  			</div>
  		</div>
      <%= paginate @genre_general, class: "paginate" %>
  	</div>

  	<!-- genreが4(地産地消)にあてはまるもの -->
  	<div class="tab-pane fade" id="pills-local" role="tabpanel" aria-labelledby="pills-local-tab">
  		<div class="container">
  			<div class="row">
  				<% @genre_local.each do |f| %>
            <div class="col-md-4 index-col">
  					  <div class="card index-card" style="width: 22rem;">
  						  <%= link_to shop_path(f.shop.id) do %>
  						    <%= attachment_image_tag f.shop, :shop_image, :fill, 350, 180, format: 'jpeg', fallback: "shop_no_image.jpg", :size => "350x180" %>
  						  <% end %>
  						  <div class="card-body index-card-body">
  							  <h5 class="card-text index-card-text">
                    <%= f.shop.shop_name %>
                  </h5>
  							  <h6 class="card-text genre-text">
                    <%= f.genre_i18n %>
                    <i class="far fa-comment index-comment-count"><%= f.shop.comments.count %></i>
                  </h6>
  						  </div>
  					  </div>
            </div>
  				<% end %>
  			</div>
  		</div>
      <%= paginate @genre_local, class: "paginate" %>
  	</div>

  	<!-- genreが5(セレクトショップ)にあてはまるもの -->
  	<div class="tab-pane fade" id="pills-select" role="tabpanel" aria-labelledby="pills-select-tab">
  		<div class="container">
  			<div class="row">
  				<% @genre_select.each do |f| %>
            <div class="col-md-4 index-col">
  					  <div class="card index-card" style="width: 22rem;">
  						  <%= link_to shop_path(f.shop.id) do %>
  						    <%= attachment_image_tag f.shop, :shop_image, :fill, 350, 180, format: 'jpeg', fallback: "shop_no_image.jpg", :size => "350x180" %>
  						  <% end %>
  						  <div class="card-body index-card-body">
  							  <h5 class="card-text index-card-text">
                    <%= f.shop.shop_name %>
                  </h5>
  							  <h6 class="card-text genre-text">
                    <%= f.genre_i18n %>
                    <i class="far fa-comment index-comment-count"><%= f.shop.comments.count %></i>
                  </h6>
  						  </div>
  					  </div>
            </div>
  				<% end %>
  			</div>
  		</div>
      <%= paginate @genre_select, class: "paginate" %>
  	</div>

</div>
